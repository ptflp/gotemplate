# Используем официальный образ Golang
FROM golang:1.19

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем весь проект в контейнер
COPY . .

# Инициализируем модуль, если go.mod не существует
RUN go mod init test

# Команда для запуска приложения, включающая обновление зависимостей
CMD go mod tidy > /dev/null 2>&1 && go run main.go
